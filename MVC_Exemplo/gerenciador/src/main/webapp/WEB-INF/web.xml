<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://xmlns.jcp.org/xml/ns/javaee" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd" id="WebApp_ID" version="4.0">

  <display-name>gerenciador</display-name>
  <!-- <welcome-file-list>
    <welcome-file>bem-vindo.html</welcome-file>
  </welcome-file-list> -->


  <!-- AQUI DEFINIMOS QUEM ATEM ACESSO LIBERADO A RECURSOS, SEM NECESSIDADE DE AUTENTICACAO -->
  <!-- <login-config>
    <auth-method>BASIC</auth-method>
  </login-config>


  <security-constraint>
    <web-resource-collection>
      <web-resource-name>Controller Acess</web-resource-name>
      <url-pattern>/</url-pattern>
    </web-resource-collection>
    <auth-constraint>
      <role-name>ADMINISTRATOR</role-name>
    </auth-constraint>
  </security-constraint>

  <security-constraint>
    <web-resource-collection>
      <web-resource-name>Acess to HTML pages</web-resource-name>
      <url-pattern>*.html</url-pattern>
    </web-resource-collection>
    <auth-constraint>
      <role-name>PUBLIC_USER</role-name>
    </auth-constraint>
  </security-constraint> -->


  <!-- DEFININDO TEMPO DE SESSOES/COKKIES -->
  <session-config>
    <!-- 10 min -->
    <session-timeout>10</session-timeout>
  </session-config>

  <!-- 
    DEFININDO ORDEM DOS FILTROS
    Os filtros, sao como servlets, sao EndPoints
    porem chamado antes das APIs de negocio para
    fins de controle, tipo usuario logado, fazer
    medicoes de execucao, auditoria, monitoramen
    to dentre outros, o tomcat considera a ordem
    de declaração dos filtros no Web.xml para de
    finir a ordem de execução dos filtros.
    src/main/java/br/com/fipp/gerenciador/controller/servlet
   -->

  <!-- MONITORAMENTO -->
  <filter>
    <filter-name>MonitorFilter</filter-name>
    <filter-class>br.com.fipp.gerenciador.controller.servlet.MonitorFilter</filter-class>
  </filter>

  <filter-mapping>
    <filter-name>MonitorFilter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>

  <!-- AUTORIZAO AUNTETICACAO -->
  <filter>
    <filter-name>AuthorizationFilter</filter-name>
    <filter-class>br.com.fipp.gerenciador.controller.servlet.AuthorizationFilter</filter-class>
  </filter>

  <filter-mapping>
    <filter-name>AuthorizationFilter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>

  <!-- CONTROLE -->
  <filter>
    <filter-name>ControllerFilter</filter-name>
    <filter-class>br.com.fipp.gerenciador.controller.servlet.ControllerFilter</filter-class>
  </filter>

  <filter-mapping>
    <filter-name>ControllerFilter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>
</web-app>